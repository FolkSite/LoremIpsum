/*  */LoremIpsum.panel.Home = function(config) {    config = config || {};    Ext.apply(config,{        id: 'loremipsum-panel-home'        ,url: LoremIpsum.config.connectorUrl        ,baseParams: {            action: 'mgr/generate'            ,register: 'mgr'            ,topic: '/loremipsum/generate/'        }        ,border: false        ,baseCls: 'modx-formpanel'        ,fileUpload: true        ,saveMsg: _('loremipsum.generate_msg')        ,items: [{            html: '<h2>'+_('loremipsum.management')+'</h2>'            ,border: false            ,id: 'loremipsum-home-header'            ,cls: 'modx-page-header'        },{            xtype: 'panel'            ,border: true            ,defaults: { border: false, autoHeight: true }            ,items: [{                draggable: false                ,layout: 'form'                ,labelWidth: 200                ,bodyStyle: 'padding: 15px;'                ,items: [{                    xtype: 'fieldset'                    ,autoHeight: true                    ,collapsible: false                    ,autoScroll: true                    ,items: [{                        xtype: 'textfield'                        ,name: 'number_of_resources'                        ,fieldLabel: _('loremipsum.number_of_resources')                        ,description: _('loremipsum.number_of_resources_desc')                        ,value: '1'                    },{                        xtype: 'textfield'                        ,name: 'depth'                        ,fieldLabel: _('loremipsum.depth')                        ,description: _('loremipsum.depth_desc')                        ,value: '3'                    }]                },{                    xtype: 'fieldset'                    ,autoHeight: true                    ,collapsible: false                    ,autoScroll: true                    ,items: [{                        xtype: 'modx-combo-context'                        ,name: 'context'                        ,fieldLabel: _('context')                        ,value: 'web'                    },{                        xtype: 'modx-combo-template'                        ,name: 'template'                        ,fieldLabel: _('template')                        ,value: '1'                    },{                        xtype: 'textfield'                        ,name: 'parent'                        ,fieldLabel: _('resource_parent')                        ,value: '0'                    },{                        xtype: 'xcheckbox'                        ,name: 'published'                        ,fieldLabel: _('resource_published')                        ,description: _('resource_published_help')                        ,inputValue: '1'                        ,checked: (MODx.config.publish_default == '1' ? 1 : 0)                    }]                },{                    xtype: 'fieldset'                    ,title: _('loremipsum.number_of_words')                    ,autoHeight: true                    ,collapsible: false                    ,autoScroll: true                    ,items: [{                        xtype: 'textfield'                        ,name: 'now_menutitle'                        ,fieldLabel: _('resource_menutitle')                        ,value: '2'                    },{                        xtype: 'textfield'                        ,name: 'now_pagetitle'                        ,fieldLabel: _('pagetitle')                        ,value: '4'                    },{                        xtype: 'textfield'                        ,name: 'now_longtitle'                        ,fieldLabel: _('long_title')                        ,value: '8'                    },{                        xtype: 'textfield'                        ,name: 'now_description'                        ,fieldLabel: _('description')                        ,value: '16'                    },{                        xtype: 'textfield'                        ,name: 'now_introtext'                        ,fieldLabel: _('introtext')                        ,value: '32'                    },{                        xtype: 'textfield'                        ,name: 'now_content'                        ,fieldLabel: _('content')                        ,value: '256'                    }]                },{                    xtype: 'fieldset'                    ,autoHeight: true                    ,collapsible: false                    ,autoScroll: true                    ,items: [{                        xtype: 'textfield'                        ,name: 'dices'                        ,fieldLabel: _('loremipsum.dices')                        ,description: _('loremipsum.dices_desc')                        ,value: '3'                    },{                        xtype: 'textfield'                        ,name: 'probability_isfolder'                        ,fieldLabel: _('loremipsum.probability_isfolder')                        ,description: _('loremipsum.probability_isfolder_desc')                        ,value: '0.1'                    },{                        xtype: 'textfield'                        ,name: 'probability_hasparent'                        ,fieldLabel: _('loremipsum.probability_hasparent')                        ,description: _('loremipsum.probability_hasparent_desc')                        ,value: '0.999'                    }]                }]            }]        }]        ,listeners: {            'beforeSubmit': {fn:this.beforeSubmit,scope:this}            ,'failure': {fn:this.failure,scope:this}            ,'success': {fn:this.success,scope:this}        }    });    LoremIpsum.panel.Home.superclass.constructor.call(this,config);};Ext.extend(LoremIpsum.panel.Home, MODx.FormPanel, {    beforeSubmit: function(o) {        console.log('beforeSubmit');        this.loadConsole(Ext.getBody(), '/loremipsum/generate/');        Ext.apply(o.form.baseParams,{            //packages: Ext.getCmp('tp-grid-packages').encode()        });    }    ,failure: function(o) {        console.log('failure');        this.getConsole().fireEvent('complete');    }    ,success: function(o) {        console.log('success');        this.getConsole().fireEvent('complete');        var t = Ext.getCmp('modx-resource-tree');        if (t) { t.refresh(); }    }    ,console: null    ,loadConsole: function(btn,topic) {    	if (this.console === null) {            this.console = MODx.load({               xtype: 'modx-console'               ,register: 'mgr'               ,topic: topic               ,show_filename: 0            });        } else {            this.console.setRegister('mgr', topic);        }        this.console.show(btn);    }    ,getConsole: function() {        return this.console;    }});Ext.reg('loremipsum-panel-home', LoremIpsum.panel.Home);